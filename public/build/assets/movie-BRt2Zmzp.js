$(document).ready(function(){var o;$(document).on("click",".download-link",function(t){t.preventDefault();var e=$(this).data("format-id"),d=$(this).data("movie-id");$("#download-button").attr("href","/movie/download/"+e+"/"+d),$("#downloadModal").show(),a()}),$(".close").on("click",function(){$("#downloadModal").hide(),clearInterval(o),n()}),$(window).on("click",function(t){$(t.target).is("#downloadModal")&&($("#downloadModal").hide(),clearInterval(o),n())}),$("#download-button").on("click",function(){$("#downloadModal").hide(),clearInterval(o),n()});function a(){var t=1;o=setInterval(function(){t>=100?(clearInterval(o),$("#status").text("File Loading..."),setTimeout(function(){$("#status").text("File loaded successfully!"),$("#download-button").show()},500)):(t++,$("#progress-bar").css("width",t+"%").text(t+"%"),t===50&&$("#status").text("File Loading..."))},100)}function n(){$("#progress-bar").css("width","1%").text("1%"),$("#status").text("Connecting to server..."),$("#download-button").hide()}});
